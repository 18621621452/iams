{% extends 'base.html' %}
{% load staticfiles %}



{% block content %}
<br>
                <div class="content-wrapper">
                    <section class="content">

                        <div id="dialog">
                                <div class="box box-info">
                                    <!-- /.box-header -->
                                    <!-- form start -->
                                    <form class="form-horizontal" action="{% url 'group_save' %}" method="POST">
                                              {% csrf_token %}
                                        <div class="box-body">
                                        <div class="form-group">
                                          <label for="name" class="col-sm-2 control-label">组名:</label>

                                          <div class="col-sm-10">
                                            <input type="text" class="form-control" name="name" value="{{ obj.name }}">
                                          </div>
                                        </div>
                                        <div class="form-group">
                                          <label for="address" class="col-sm-2 control-label">描述:</label>

                                          <div class="col-sm-10">
                                            <input type="text" class="form-control" name="desc" value="{{ obj.desc }}">
                                          </div>
                                        </div>
                                        <input type="hidden" name="id" value="{{ obj.id }}">
                                      </div>
                                                        <!-- Select multiple-->
                                        <div class="col-sm-10 col-md-offset-2">
                                                <div class="form-group">
                                                    <label>可选项</label>
                                                  <select id="unselect" name="unselect" multiple style="width:160px; height:220px">
                                                      {% for host in unselect %}
                                                      <option value="{{ host.hostname }}">{{ host.hostname }}</option>
                                                      {% endfor %}
                                                  </select>

                                                    <label>组成员</label>
                                                  <select id="members" name="members" multiple style="width:160px; height:220px">
                                                    {% for host in members %}
                                                      <option value="{{ host.hostname }}">{{ host.hostname }}</option>
                                                  {% endfor %}
                                                  </select>
                                                </div>
                                            <div class="form-group" >
                                                    <input  type="button" value="添加到组" onclick="f1()">
                                                    <input  type="button" value="从组移除" onclick="f2()">

                                                    <input  type="button" value="全部添加到组" onclick="f3()">
                                                    <input  type="button" value="全部从组移除" onclick="f4()">
                                            </div>
                                        </div>
                                      <!-- /.box-body -->
                                               <div class="form-group row">
                                                    <div class="col-md-1 col-md-offset-2">
                                                        <button type="submit" class="btn btn-info" id="commit" >提交</button>
                                                    </div>
                                                    <div class="col-md-1">
                                                           <button type="reset" class="btn btn-danger"><a href="{% url 'group' %}">返回</a></button>
                                                    </div>
                                                </div>
                                    </form>
                            </div>
                        </div>
                    </section>
                </div>
{% endblock  %}
{% block basic_script %}
<script src="{% static 'js/jquery.csrf.js' %}"></script>
<script type="text/javascript">
    function f1(){
        $("#unselect option:selected").appendTo("#members");
    }
    function f2(){
        $("#members option:selected").appendTo("#unselect");
    }
    function f3(){
        $("#unselect option").appendTo("#members");
    }
    function f4(){
        $("#members option").appendTo("#unselect");
    }


    $(function(){
        $("#unselect option").live('dblclick',function(){
            $(this).appendTo("#members");
        });
        $("#members option").live('dblclick',function(){
            $(this).appendTo("#unselect");
        });

    });
</script>
{% endblock %}